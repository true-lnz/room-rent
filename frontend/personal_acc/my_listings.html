<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Личный кабинет</title>
    <link rel="stylesheet" href="/public/main.css">
    <link rel="stylesheet" href="/frontend/personal_acc/personal_acc.css">
</head>
<body>
{{template "header"}}

<div class="container">
    <h1>Мои объявления</h1>
    <div class="listings" id="listings-container">
        <!-- Будет заполнено через JavaScript -->
    </div>

    <div class="actions">
        <button id="open-add-modal" class="btn btn-primary">Новое объявление</button>
    </div>
</div>
</div>

{{template "footer"}}

<!-- Модальное окно добавления нового объявления -->
<div id="add-modal" class="modal">
    <div class="modal-content large-modal">
        <span class="close" id="close-add-modal">&times;</span>
        <h2>Новое объявление</h2>
        <form class="listing-form__grid" id="add-form" novalidate>
            <div class="form__container">
                <div class="image-upload">
                    <img src="download-icon.png" alt="Изображение 3х4" id="preview-image">
                    <label for="image-upload">Вставить из</label>
                    <input type="file" id="image-upload" accept="image/*" style="display: none;">
                </div>
            </div>

            <div class="form__container">
                <div class="form-group">
                    <select id="add-type" name="type" required>
                        <option value="">Тип помещения</option>
                        <option value="storage">Кладовка</option>
                        <option value="office">Офис</option>
                        <option value="warehouse">Склад</option>
                    </select>
                </div>

                <div class="form-group">
                    <input type="text" id="add-city" name="city" placeholder="Город" required>
                </div>

                <div class="form-group">
                    <input type="text" id="add-address" name="address" placeholder="Адрес" required>
                </div>

                <div class="form-group">
                    <input type="number" id="add-price" name="price" placeholder="Цена в месяц" min="1" required>
                </div>
            </div>

            <div class="form__container">
                <div class="form-group">
                    <label for="add-description">Описание <span style="color: red;">*</span></label>
                    <textarea id="add-description" name="description" rows="3"
                              placeholder="Подробное описание помещения" required></textarea>
                </div>

                <div class="form-group">
                    <label for="add-user_comment">Комментарий (необязательно)</label>
                    <textarea id="add-user_comment" name="user_comment" rows="2"
                              placeholder="Дополнительная информация"></textarea>
                </div>
            </div>

            <div class="buttons" style="display: flex; gap: .5rem; margin-top: 20px;">
                <button type="button" class="btn btn-secondary" id="cancel-add">Отмена</button>
                <button type="submit" class="btn btn-primary">Добавить объявление</button>
            </div>
        </form>
    </div>
</div>

<!-- Модальное окно редактирования -->
<div id="edit-modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Редактировать объявление</h2>
        <form id="edit-form">
            <div class="form-group">
                <label for="edit-type">Тип помещения *</label>
                <select id="edit-type" required>
                    <option value="storage">Кладовка</option>
                    <option value="office">Офис</option>
                    <option value="retail">Торговое помещение</option>
                </select>
            </div>

            <div class="form-group">
                <label for="edit-city">Город *</label>
                <input type="text" id="edit-city" required placeholder="Например: Уфа">
            </div>

            <div class="form-group">
                <label for="edit-address">Адрес *</label>
                <input type="text" id="edit-address" required placeholder="Улица, дом">
            </div>

            <div class="form-group">
                <label for="edit-price">Цена в месяц *</label>
                <input type="number" id="edit-price" required placeholder="10000">
            </div>

            <div class="edit-actions">
                <button type="button" id="delete-listing" class="btn btn-danger">Удалить</button>
                <button type="submit" class="btn btn-primary">Сохранить изменения</button>
            </div>
        </form>
    </div>
</div>

<!-- Модальное окно подтверждения удаления -->
<div id="delete-modal" class="modal">
    <div class="modal-content">
        <span class="close" id="delete-close">&times;</span>
        <h2>Удаление объявления</h2>
        <p>Вы действительно хотите удалить данное объявление? Это действие необратимо.</p>
        <div class="edit-actions">
            <button type="button" id="cancel-delete" class="btn btn-secondary">Отмена</button>
            <button type="button" id="confirm-delete" class="btn btn-danger">Удалить</button>
        </div>
    </div>
</div>

<script src="/frontend/personal_acc/my_listings.js"></script>

</body>
</html>